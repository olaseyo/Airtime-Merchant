"use strict";!function(t,n){n.KosmoCharts||(n.KosmoCharts={}),n.KosmoCharts.RadialProgress=function(n,o){var i=t(n),s=this;return s.options={padding:0,amount:0,cornerRadius:10,lineWidth:10,postfix:"",description:"",size:null,showAmount:!0},s.load=function(n){try{return s.options.width=n.size,s.options.height=n.size,s.options=t.extend(s.options,n),s.validateOptions(),!0}catch(t){return console.log(t.message),!1}},s.validateOptions=function(){if(void 0===typeof s.options.size||null===s.options.size)throw new Error('Invalid property value for "size"')},s.render=function(){var t=s.load(o);if(t){var n=s.options.amount/100,e=(d3.layout.pie().value(function(t){return t}).sort(null),s.options.width/2-s.options.padding),a=e-s.options.lineWidth,r=d3.select(i[0]).append("svg").attr({width:s.options.width,height:s.options.height}).append("g").attr({transform:"translate("+s.options.width/2+","+s.options.height/2+")"}),d=d3.svg.arc().innerRadius(a).outerRadius(e).startAngle(0).endAngle(2*Math.PI),p=d3.svg.arc().innerRadius(a).outerRadius(e).cornerRadius(s.options.cornerRadius).startAngle(0),u=(r.append("path").attr({d:d,class:"ks-background"}),r.append("path").datum({endAngle:0}).attr({d:p,class:"ks-progress-line"})),l=r.append("text").text(s.options.amount+s.options.postfix).attr({class:"ks-amount",dy:5,dx:0});if(s.options.showAmount||l.classed("ks-invisible",!0),s.options.description){r.append("text").text(s.options.description).attr({class:"ks-description",dy:25,dx:0})}var c=function(t,n){t.attrTween("d",function(t){var o=d3.interpolate(t.endAngle,n),i=d3.interpolate(0,s.options.amount);return function(n){t.endAngle=o(n);var e=Math.floor(i(n));return l.text(e+s.options.postfix),p(t)}})},h=function(){u.transition().duration(750).ease("cubic").call(c,2*Math.PI*n)};h()}},this}}(jQuery,window);